<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Task 10 -  Another Get API</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
        crossorigin="anonymous">
    </script>
  </head>
  <body>
    <script type="application/javascript">
        function addPostRow(data) {
          $("body").append(
            `<p><span>Post created with id ${data.id}, title: ${data.title}, author: ${data.author}</span>
            </p>`
          );
        }
        function listPost(search) {
            var url = "http://localhost:3000/posts";
            $.get(url, function (data, status) {
            if (status === "success") {
                for (let index = 0; index < data.length; index++) {
                    addPostRow(data[index]);
                }
            } else {
                alert("Server Error");
            }
        });
        }
        $(document).ready(function () {
            listPost();
        });
      </script>
  </body>
</html>